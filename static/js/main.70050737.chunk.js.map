{"version":3,"sources":["types/FileErrorMessages.ts","components/PageList/PageList.tsx","providers/DropboxContext.tsx","utils/createDropbox.ts","components/CreateFolderModal/CreateFolderModal.tsx","components/FolderIcon/FolderIcon.tsx","components/Loader/Loader.tsx","utils/formatDate.ts","components/FilesTable/FilesTable.tsx","components/FolderBreadcrumbs/FolderBreadcrumbs.tsx","components/ErrorAlert/ErrorAlert.tsx","components/Toolbar/Toolbar.tsx","pages/HomePage/HomePage.tsx","pages/PhotosPage/PhotosPage.tsx","App.tsx","providers/Provider.tsx","index.tsx"],"names":["FileErrorMessages","drawerWidth","AppBar","styled","MuiAppBar","shouldForwardProp","prop","theme","open","transition","transitions","create","easing","sharp","duration","leavingScreen","width","marginLeft","easeOut","enteringScreen","DrawerHeader","display","alignItems","padding","spacing","mixins","toolbar","justifyContent","PageList","useTheme","React","setOpen","Box","sx","CssBaseline","position","IconButton","color","aria-label","onClick","edge","mr","Typography","variant","noWrap","component","Drawer","flexShrink","boxSizing","anchor","direction","Divider","List","map","text","ListItem","disablePadding","ListItemButton","ListItemText","primary","DropboxContext","createContext","isModalActive","errorMessage","isError","setIsModalActive","setIsError","setErrorMessage","DropboxContextProvider","children","useState","contextValue","Provider","value","useDropbox","context","useContext","Error","dropbox","Dropbox","accessToken","process","style","top","left","transform","minWidth","maxWidth","bgcolor","border","boxShadow","p","CreateFolderModal","folderName","setFolderName","pathname","useLocation","handleSubmit","event","a","preventDefault","folderPath","filesCreateFolderV2","path","autorename","CREATE_FOLDER","window","location","reload","Modal","className","aria-labelledby","aria-describedby","onClose","closeAfterTransition","slots","backdrop","Backdrop","slotProps","timeout","Fade","in","marginBottom","onSubmit","TextField","id","label","onChange","e","target","Button","type","FolderIcon","xmlns","height","viewBox","d","Loader","CircularProgress","formatDate","date","Date","day","getDate","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","formattedDate","formattedTime","toString","padStart","amOrPm","FilesTable","filesToShow","isLoading","filesToDelete","onDelete","checkIsFolder","fileTag","navigate","useNavigate","useEffect","TableContainer","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","file","scope","Checkbox","includes","filteredFiles","filter","filePath","handleDeleteFiles","path_display","inputProps","thumbnail","src","alt","name","handleChangePath","path_lower","client_modified","FolderBreadcrumbs","breadcrumbs","setBreadcrumbs","pathnameToBreadcrumbs","split","breadcrumb","getActiveBreadcrumb","index","breadcrumbActiveStyles","pointerEvents","length","role","Breadcrumbs","Link","href","underline","indexToSlice","findIndex","updatedPath","slice","join","handleClick","ErrorAlert","Snackbar","autoHideDuration","Alert","severity","Toolbar","hasFilesToDelete","onAdd","htmlFor","startIcon","HomePage","files","setFiles","setFilesToDelete","setIsLoading","loadFiles","filesListFolder","dropboxResponse","filesList","result","entries","paths","format","size","filesGetThumbnailBatch","forEach","indexToUpdate","currentFile","metadata","LOAD_FILES","deleteFiles","Promise","all","filesDeleteV2","DELETE_FILES","uploadFile","filesUpload","contents","UPLOAD_FILE","PhotosPage","App","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.70050737.chunk.js","sourcesContent":["export enum FileErrorMessages {\n  LOAD_FILES = 'Unable to load Files',\n  DELETE_FILES = 'Unable to delete Files',\n  CREATE_FOLDER = 'Unable to create Folder',\n  UPLOAD_FILE = 'Unable to upload File',\n}\n","import * as React from 'react';\nimport { styled, useTheme } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport Drawer from '@mui/material/Drawer';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport MuiAppBar, { AppBarProps as MuiAppBarProps } from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport List from '@mui/material/List';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemText from '@mui/material/ListItemText';\n\nconst drawerWidth = 240;\n\ninterface AppBarProps extends MuiAppBarProps {\n  open?: boolean;\n}\n\nconst AppBar = styled(MuiAppBar, {\n  shouldForwardProp: (prop) => prop !== 'open',\n})<AppBarProps>(({ theme, open }) => ({\n  transition: theme.transitions.create(['margin', 'width'], {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen,\n  }),\n  ...(open && {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: `${drawerWidth}px`,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  }),\n}));\n\nconst DrawerHeader = styled('div')(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  padding: theme.spacing(0, 1),\n  ...theme.mixins.toolbar,\n  justifyContent: 'flex-end',\n}));\n\nexport const PageList = () => {\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <Box sx={{ display: 'flex' }}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" open={open}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            sx={{ mr: 2, ...(open && { display: 'none' }) }}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap component=\"div\">\n            Dropbox\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        sx={{\n          width: drawerWidth,\n          flexShrink: 0,\n          '& .MuiDrawer-paper': {\n            width: drawerWidth,\n            boxSizing: 'border-box',\n          },\n        }}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n      >\n        <DrawerHeader>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\n          </IconButton>\n        </DrawerHeader>\n        <Divider />\n        <List>\n          {['Home', 'Photos', 'Deleted Files'].map((text) => (\n            <ListItem key={text} disablePadding>\n              <ListItemButton>\n                <ListItemText primary={text} />\n              </ListItemButton>\n            </ListItem>\n          ))}\n        </List>\n        <Divider />\n      </Drawer>\n    </Box>\n  );\n};\n","import {\n  createContext,\n  FC,\n  useContext,\n  useState,\n} from 'react';\nimport * as React from 'react';\n\ninterface DropboxContextValue {\n  isModalActive: boolean;\n  errorMessage: string;\n  isError: boolean;\n  setIsModalActive: (modalStatus: boolean) => void;\n  setErrorMessage: (errorMessage: string) => void;\n  setIsError: (errorStatus: boolean) => void;\n}\n\nexport const DropboxContext = createContext<DropboxContextValue>({\n  isModalActive: false,\n  errorMessage: '',\n  isError: false,\n  setIsModalActive: () => {},\n  setIsError: () => {},\n  setErrorMessage: () => {},\n});\n\nexport const DropboxContextProvider: FC = ({ children }) => {\n  const [isModalActive, setIsModalActive] = React.useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isError, setIsError] = useState(false);\n\n  const contextValue: DropboxContextValue = {\n    isModalActive,\n    setIsModalActive,\n    errorMessage,\n    isError,\n    setErrorMessage,\n    setIsError,\n  };\n\n  return (\n    <DropboxContext.Provider value={contextValue}>\n      {children}\n    </DropboxContext.Provider>\n  );\n};\n\nexport const useDropbox = () => {\n  const context = useContext(DropboxContext);\n\n  if (!context) {\n    throw new Error(\n      'useDropbox must be used within a DropboxContextValue',\n    );\n  }\n\n  return context;\n};\n","import { Dropbox } from 'dropbox';\n\nconst token = process.env.REACT_APP_ACCESS_TOKEN;\n\nexport const dropbox = new Dropbox({\n  accessToken: token,\n});\n","import * as React from 'react';\nimport Backdrop from '@mui/material/Backdrop';\nimport Box from '@mui/material/Box';\nimport Modal from '@mui/material/Modal';\nimport Fade from '@mui/material/Fade';\nimport { Button, TextField } from '@mui/material';\nimport Typography from '@mui/material/Typography';\nimport { FormEvent, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useDropbox } from '../../providers/DropboxContext';\nimport { dropbox } from '../../utils/createDropbox';\nimport { FileErrorMessages } from '../../types/FileErrorMessages';\n\nconst style = {\n  position: 'absolute' as const,\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  minWidth: 300,\n  maxWidth: 400,\n  bgcolor: 'background.paper',\n  border: '2px solid #000',\n  boxShadow: 24,\n  p: 4,\n};\n\nexport const CreateFolderModal = () => {\n  const [folderName, setFolderName] = useState('');\n  const {\n    isModalActive,\n    setIsModalActive,\n    setErrorMessage,\n    setIsError,\n  } = useDropbox();\n  const { pathname } = useLocation();\n\n  const handleClose = () => setIsModalActive(false);\n\n  const handleSubmit = async (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const folderPath = pathname === '/'\n      ? `${pathname}${folderName}`\n      : `${pathname}/${folderName}`;\n\n    try {\n      await dropbox.filesCreateFolderV2({\n        path: folderPath,\n        autorename: true,\n      });\n    } catch {\n      setErrorMessage(FileErrorMessages.CREATE_FOLDER);\n      setIsError(true);\n    }\n\n    window.location.reload();\n  };\n\n  return (\n    <div>\n      <Modal\n        className=\"modal\"\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        open={isModalActive}\n        onClose={handleClose}\n        closeAfterTransition\n        slots={{ backdrop: Backdrop }}\n        slotProps={{\n          backdrop: {\n            timeout: 500,\n          },\n        }}\n      >\n        <Fade in={isModalActive}>\n          <Box sx={style}>\n            <Typography sx={{ marginBottom: '16px ' }}>Create Folder</Typography>\n            <form\n              className=\"modal__form\"\n              onSubmit={handleSubmit}\n            >\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Folder Name\"\n                variant=\"outlined\"\n                value={folderName}\n                onChange={(e) => setFolderName(e.target.value)}\n              />\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                className=\"modal__button\"\n              >\n                Create\n              </Button>\n            </form>\n          </Box>\n        </Fade>\n      </Modal>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport const FolderIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    height=\"32\"\n    viewBox=\"0 -960 960 960\"\n    width=\"32\"\n  >\n    <path\n      d=\"M140-160q-24 0-42-18.5T80-220v-520q0-23 18-41.5t42-18.5h281l60 60h339q23 0 41.5 18.5T880-680v460q0 23-18.5 41.5T820-160H140Zm0-60h680v-460H456l-60-60H140v520Zm0 0v-520 520Z\"\n    />\n  </svg>\n);\n","import * as React from 'react';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Box from '@mui/material/Box';\n\nexport const Loader = () => {\n  return (\n    <Box sx={{ display: 'flex' }}>\n      <CircularProgress />\n    </Box>\n  );\n};\n","export const formatDate = (date = new Date()) => {\n  const day = date.getDate();\n  const month = date.getMonth() + 1;\n  const year = date.getFullYear();\n  const hours = date.getHours();\n  const minutes = date.getMinutes();\n\n  const formattedDate = `${day}/${month}/${year}`;\n\n  let formattedTime = `${hours}:${minutes.toString().padStart(2, '0')}`;\n\n  const amOrPm = hours >= 12 ? 'pm' : 'am';\n\n  formattedTime += ` ${amOrPm}`;\n\n  return `${formattedDate} ${formattedTime}`;\n};\n","import React, { FC, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\n\nimport { Checkbox } from '@mui/material';\nimport { FolderIcon } from '../FolderIcon';\nimport { Loader } from '../Loader';\n\nimport { File } from '../../types/File';\nimport { formatDate } from '../../utils/formatDate';\n\ninterface Props {\n  filesToShow: File[];\n  filesToDelete: string[],\n  onDelete: (paths: string[]) => void;\n  isLoading: boolean;\n}\n\nexport const FilesTable: FC<Props> = ({\n  filesToShow,\n  isLoading,\n  filesToDelete,\n  onDelete,\n}) => {\n  const checkIsFolder = (fileTag: string) => fileTag === 'folder';\n  const { pathname } = useLocation();\n  const navigate = useNavigate();\n\n  const handleChangePath = (fileTag: string, path = '') => {\n    if (checkIsFolder(fileTag)) {\n      navigate(path);\n    }\n  };\n\n  const handleDeleteFiles = (path: string) => {\n    if (filesToDelete.includes(path)) {\n      const filteredFiles = filesToDelete.filter(filePath => filePath !== path);\n\n      onDelete(filteredFiles);\n    } else {\n      onDelete([...filesToDelete, path]);\n    }\n  };\n\n  const parseThumbnail = (thumbnail: string) => {\n    return `data:image/jpeg;base64, ${thumbnail}`;\n  };\n\n  useEffect(() => {\n    onDelete([]);\n  }, [pathname]);\n\n  return (\n    <div className=\"files-table\">\n      {!isLoading ? (\n        <TableContainer component={Paper}>\n          <Table sx={{ minWidth: 650 }} aria-label=\"caption table\">\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"left\">Files</TableCell>\n                <TableCell align=\"right\">Modified</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {filesToShow.map(file => (\n                <TableRow key={file.id}>\n                  <TableCell\n                    component=\"th\"\n                    scope=\"row\"\n                  >\n                    <div className=\"files-table__cell-content\">\n                      <Checkbox\n                        onChange={() => handleDeleteFiles(file.path_display)}\n                        inputProps={{ 'aria-label': 'controlled' }}\n                      />\n                      <div className=\"files-table__cell-image\">\n                        {!file.thumbnail ? (\n                          <FolderIcon />\n                        ) : (\n                          <img src={parseThumbnail(file.thumbnail)} alt={file.name} />\n                        )}\n                      </div>\n\n                      <button\n                        className=\"files-table__button\"\n                        type=\"button\"\n                        onClick={() => handleChangePath(file['.tag'], file.path_lower)}\n                      >\n                        {file.name}\n                      </button>\n                    </div>\n                  </TableCell>\n\n                  <TableCell align=\"right\">\n                    {file.client_modified && (\n                      formatDate(new Date(file.client_modified))\n                    )}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      ) : (\n        <Loader />\n      )}\n    </div>\n  );\n};\n","import * as React from 'react';\nimport Breadcrumbs from '@mui/material/Breadcrumbs';\nimport Link from '@mui/material/Link';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { CSSProperties, useEffect, useState } from 'react';\n\nexport const FolderBreadcrumbs = () => {\n  const [breadcrumbs, setBreadcrumbs] = useState<string[]>([]);\n  const { pathname } = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const pathnameToBreadcrumbs = pathname\n      .split('/')\n      .filter(breadcrumb => breadcrumb);\n\n    setBreadcrumbs(pathnameToBreadcrumbs);\n  }, [pathname]);\n\n  const getActiveBreadcrumb = (index = -1) => {\n    const breadcrumbActiveStyles = {\n      color: '#736c64',\n      pointerEvents: 'auto',\n    } as CSSProperties;\n\n    if (index === breadcrumbs.length - 1 || pathname === '/') {\n      breadcrumbActiveStyles.color = '#000';\n      breadcrumbActiveStyles.pointerEvents = 'none';\n    }\n\n    return breadcrumbActiveStyles;\n  };\n\n  const handleClick = (path: string) => {\n    const indexToSlice = breadcrumbs.findIndex(breadcrumb => (\n      breadcrumb === path\n    ));\n\n    const updatedPath = breadcrumbs\n      .slice(0, indexToSlice + 1)\n      .join('/');\n\n    navigate(updatedPath);\n  };\n\n  return (\n    <div\n      role=\"presentation\"\n      className=\"breadcrumbs\"\n    >\n      <Breadcrumbs aria-label=\"breadcrumb\">\n        <Link\n          href=\"/\"\n          underline=\"none\"\n          color=\"inherit\"\n          style={getActiveBreadcrumb()}\n        >\n          Dropbox\n        </Link>\n\n        {breadcrumbs.map((path, index) => (\n          <button\n            key={path}\n            type=\"button\"\n            className=\"breadcrumbs__button\"\n            onClick={() => handleClick(path)}\n            style={getActiveBreadcrumb(index)}\n          >\n            {path}\n          </button>\n        ))}\n      </Breadcrumbs>\n    </div>\n  );\n};\n","import * as React from 'react';\nimport Alert from '@mui/material/Alert';\nimport { FC } from 'react';\nimport { Snackbar } from '@mui/material';\nimport { useDropbox } from '../../providers/DropboxContext';\n\nexport const ErrorAlert: FC = () => {\n  const { isError, setIsError, errorMessage } = useDropbox();\n  const handleClose = () => setIsError(false);\n\n  return (\n    <Snackbar\n      open={isError}\n      onClose={handleClose}\n      autoHideDuration={6000}\n    >\n      <Alert severity=\"error\">{errorMessage}</Alert>\n    </Snackbar>\n  );\n};\n","import React, { ChangeEvent, FC } from 'react';\nimport { Button } from '@mui/material';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { useDropbox } from '../../providers/DropboxContext';\n\ninterface Props {\n  onDelete: () => void;\n  hasFilesToDelete: boolean;\n  onAdd: (event: ChangeEvent<HTMLInputElement>) => Promise<void>;\n}\n\nexport const Toolbar: FC<Props> = ({\n  onDelete,\n  hasFilesToDelete,\n  onAdd,\n}) => {\n  const { setIsModalActive } = useDropbox();\n  const handleOpen = () => setIsModalActive(true);\n\n  return (\n    <div className=\"toolbar\">\n      <Button\n        variant=\"contained\"\n        onClick={onDelete}\n      >\n        {/* eslint-disable-next-line max-len */}\n        {/* eslint-disable-next-line jsx-a11y/label-has-associated-control,jsx-a11y/label-has-for */}\n        <label\n          htmlFor=\"file\"\n          className=\"toolbar__label\"\n        >\n          Upload\n        </label>\n        <input\n          id=\"file\"\n          className=\"toolbar__input-file\"\n          type=\"file\"\n          onChange={onAdd}\n        />\n\n      </Button>\n\n      <Button\n        variant=\"contained\"\n        onClick={handleOpen}\n      >\n        Create Folder\n      </Button>\n\n      {hasFilesToDelete && (\n        <Button\n          variant=\"outlined\"\n          onClick={onDelete}\n          startIcon={<DeleteIcon />}\n        >\n          Delete\n        </Button>\n      )}\n    </div>\n  );\n};\n","import React, {\n  ChangeEvent,\n  FC,\n  useEffect,\n  useState,\n} from 'react';\n\nimport { useLocation } from 'react-router-dom';\nimport { FilesTable } from '../../components/FilesTable';\nimport { FolderBreadcrumbs } from '../../components/FolderBreadcrumbs';\n\nimport { FileErrorMessages } from '../../types/FileErrorMessages';\nimport { File } from '../../types/File';\nimport { ErrorAlert } from '../../components/ErrorAlert';\nimport { Toolbar } from '../../components/Toolbar';\nimport { dropbox } from '../../utils/createDropbox';\n// eslint-disable-next-line import/no-unresolved,import/extensions\nimport { Thumbnail } from '../../file.js';\nimport { useDropbox } from '../../providers/DropboxContext';\n\nexport const HomePage:FC = () => {\n  const [files, setFiles] = useState<File[]>([]);\n  const [filesToDelete, setFilesToDelete] = useState<string[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const { setIsError, setErrorMessage } = useDropbox();\n  const { pathname = '' } = useLocation();\n  const hasFilesToDelete = filesToDelete.length > 0;\n\n  const getPath = () => {\n    return pathname === '/' ? '' : pathname;\n  };\n\n  const loadFiles = async () => {\n    try {\n      setIsLoading(true);\n      const dropboxResponse = await dropbox.filesListFolder({ path: getPath() });\n      const filesList = dropboxResponse.result.entries as File[];\n      const paths: Thumbnail[] = filesList.filter(file => file['.tag'] === 'file')\n        .map(file => ({\n          path: file.path_lower,\n          format: 'jpeg',\n          size: 'w32h32',\n        }));\n\n      const thumbnails = await dropbox.filesGetThumbnailBatch({\n        entries: paths,\n      });\n\n      thumbnails.result.entries.forEach(file => {\n        if ('metadata' in file) {\n          const indexToUpdate = filesList.findIndex(currentFile => (\n            file.metadata.path_lower === currentFile.path_lower\n          ));\n\n          filesList[indexToUpdate] = {\n            ...filesList[indexToUpdate],\n            thumbnail: file.thumbnail,\n          };\n        }\n      });\n\n      setFiles(filesList);\n    } catch {\n      setErrorMessage(FileErrorMessages.LOAD_FILES);\n      setIsError(true);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const deleteFiles = async () => {\n    try {\n      await Promise.all(filesToDelete.map(path => (\n        dropbox.filesDeleteV2({ path })\n      )));\n    } catch {\n      setErrorMessage(FileErrorMessages.DELETE_FILES);\n      setIsError(true);\n    }\n\n    setFilesToDelete([]);\n    loadFiles();\n  };\n\n  const uploadFile = async (event: ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n\n    if (!file) {\n      return;\n    }\n\n    const filePath = pathname === '/'\n      ? `${pathname}${file.name}`\n      : `${pathname}/${file.name}`;\n\n    try {\n      await dropbox.filesUpload({\n        path: filePath,\n        contents: file,\n        autorename: true,\n      });\n    } catch {\n      setErrorMessage(FileErrorMessages.UPLOAD_FILE);\n      setIsError(true);\n    }\n\n    window.location.reload();\n  };\n\n  useEffect(() => {\n    loadFiles();\n  }, [pathname]);\n\n  return (\n    <>\n      <FolderBreadcrumbs />\n\n      <Toolbar\n        hasFilesToDelete={hasFilesToDelete}\n        onDelete={deleteFiles}\n        onAdd={uploadFile}\n      />\n\n      <FilesTable\n        filesToShow={files}\n        filesToDelete={filesToDelete}\n        onDelete={setFilesToDelete}\n        isLoading={isLoading}\n      />\n\n      <ErrorAlert />\n    </>\n  );\n};\n","import React from 'react';\n\nexport const PhotosPage = () => {\n  return (\n    <></>\n  );\n};\n","import React, { FC } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport { PageList } from './components/PageList';\nimport { CreateFolderModal } from './components/CreateFolderModal';\nimport { HomePage } from './pages/HomePage';\nimport { PhotosPage } from './pages/PhotosPage';\n\nexport const App: FC = () => {\n  return (\n    <>\n      <PageList />\n\n      <div className=\"container\">\n        <HomePage />\n        <Routes>\n          <Route path=\"/photos\" element={<PhotosPage />} />\n        </Routes>\n\n        <CreateFolderModal />\n      </div>\n    </>\n  );\n};\n","import React, { FC } from 'react';\nimport { DropboxContextProvider } from './DropboxContext';\n\nexport const Provider: FC = ({ children }) => {\n  return (\n    <DropboxContextProvider>\n      {children}\n    </DropboxContextProvider>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport './styles/index.scss';\nimport { App } from './App';\nimport { Provider } from './providers/Provider';\n\nReactDOM.render(\n  <Router>\n    <Provider>\n      <App />\n    </Provider>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}